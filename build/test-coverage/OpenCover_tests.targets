<Project ToolsVersion="15.0"
         xmlns="http://schemas.microsoft.com/developer/msbuild/2003" >

    <PropertyGroup>
        <OpenCoverExePath>$(PackagesDir)\OpenCover.4.7.1221\tools\OpenCover.Console.exe</OpenCoverExePath>
        <OpenCover>&quot;$(OpenCoverExePath)&quot;</OpenCover>
        <XUnitRunner>-target:&quot;$(PackagesDir)\xunit.runner.console.2.4.2\tools\net472\xunit.console.exe&quot;</XUnitRunner>
        <XUnitArgs>-targetargs:&quot;$(TestBinDir)\SampleLibrary.Test.dll -noshadow&quot;</XUnitArgs>
        <OpenCoverFilter>-filter:&quot;+[SampleLibrary]* -[SampleLibrary.Test*]*&quot;</OpenCoverFilter>
        <OpenCoverUser>-register:user</OpenCoverUser>
        <OpenCoverOutput>-output:$(ReportFileName)</OpenCoverOutput>
        <OpenCoverCmd>$(OpenCover) $(XUnitRunner) $(XUnitArgs) $(OpenCoverFilter) $(OpenCoverUser) $(OpenCoverOutput)</OpenCoverCmd>
    </PropertyGroup>

    <Target Name="OpenCoverCoverage">
        <Delete Files="xunit-coverage.xml" Condition="Exists('xunit-coverage.xml')" />
        <Exec Command="$(OpenCoverCmd)" />
    </Target>
    
</Project>